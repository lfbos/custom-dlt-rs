# =============================================================================
# Custom Blockchain - Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment
# cp .env.example .env
#
# Priority: Environment variables > .env file > Hardcoded defaults
# =============================================================================

# =============================================================================
# NETWORK CONFIGURATION (Consensus Rules)
# =============================================================================
# These parameters define the blockchain's consensus rules
# Changing these will create an incompatible network!

# Network identifier (mainnet, testnet, devnet, regtest)
NETWORK_ID=mainnet

# Initial block reward in whole coins (50 BTC = 5,000,000,000 satoshis)
INITIAL_REWARD=50

# Blocks between reward halvings (210 blocks for testing, Bitcoin uses 210,000)
HALVING_INTERVAL=210

# Target time between blocks in seconds
IDEAL_BLOCK_TIME=10

# Blocks between difficulty adjustments
DIFFICULTY_UPDATE_INTERVAL=50

# Maximum age of mempool transactions in seconds (10 minutes)
MAX_MEMPOOL_TX_AGE=600

# Maximum transactions per block
BLOCK_TX_CAP=20

# Minimum difficulty target (hex format)
# Lower value = harder difficulty
# Example easy: 0x00FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
# Example hard: 0x0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
MIN_TARGET_HEX=0x0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF

# =============================================================================
# NODE CONFIGURATION
# =============================================================================

# Port for node to listen on
NODE_PORT=9000

# Path to blockchain data file
BLOCKCHAIN_FILE=./blockchain.cbor

# Initial peer nodes (comma-separated)
# Example: INITIAL_PEERS=127.0.0.1:9001,127.0.0.1:9002
INITIAL_PEERS=

# Mempool cleanup interval (seconds)
MEMPOOL_CLEANUP_INTERVAL=30

# Blockchain save to disk interval (seconds)
BLOCKCHAIN_SAVE_INTERVAL=15

# Maximum peer connections
MAX_PEERS=50

# =============================================================================
# MINER CONFIGURATION
# =============================================================================

# Mining batch size (nonces to try before checking for new template)
# Higher = more efficient, but less responsive
# Lower = more responsive, but more overhead
MINING_BATCH_SIZE=2000000

# Template fetch/validate interval (seconds)
TEMPLATE_FETCH_INTERVAL=5

# Node address to connect to
MINER_NODE_ADDRESS=127.0.0.1:9000

# Public key file for receiving mining rewards
MINER_PUBLIC_KEY=miner.pub.pem

# =============================================================================
# WALLET CONFIGURATION
# =============================================================================

# UTXO update interval (seconds)
UTXO_UPDATE_INTERVAL=20

# Balance display update interval (milliseconds)
BALANCE_UPDATE_INTERVAL_MS=500

# Node address to connect to
WALLET_NODE_ADDRESS=127.0.0.1:9000

# Wallet configuration file path
WALLET_CONFIG_FILE=wallet_config.toml

# =============================================================================
# LOGGING & DEBUG
# =============================================================================

# Rust log level (error, warn, info, debug, trace)
RUST_LOG=info

# Rust backtrace on panic (0=off, 1=on, full=verbose)
RUST_BACKTRACE=1

# =============================================================================
# DOCKER SPECIFIC (when running in containers)
# =============================================================================

# These are automatically set in docker-compose.yml
# Uncomment and modify if running containers manually

# MINER_NODE_ADDRESS=172.25.0.10:9000
# WALLET_NODE_ADDRESS=172.25.0.10:9000
# NODE_PORT=9000
# BLOCKCHAIN_FILE=/data/blockchain.cbor
# MINER_PUBLIC_KEY=/keys/miner.pub.pem
